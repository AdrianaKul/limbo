

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Limbo-specific concepts &mdash; limbo 0.1 documentation</title>
  

  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  

  
    <link rel="top" title="limbo 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Guides" href="index.html"/>
        <link rel="next" title="Using Limbo as an environment for experiments" href="framework.html"/>
        <link rel="prev" title="Introduction to Bayesian Optimization (BO)" href="bo.html"/>
<style type="text/css">
/* This CSS displays small logos at the bottom of the page, on one line */

.wy-footer-logo-container {
  margin-top: 50px;
  text-align: center;
}

.wy-footer-logo {
  display: inline-block;
  width: 60px;
}
</style>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
          

          
            <a href="http://www.resibots.eu">
          

          
            
            <img src="../_static/resibots_logo_black_200px.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="resibots-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
                  <a class="caption" href="http://www.resibots.eu">Project's website</a>
              
            

            
            
                <p class="caption"><span class="caption-text">Limbo (BO library)</span></p>
<ul class="simple">
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Limbo&#8217;s documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="bo.html">Introduction to Bayesian Optimization (BO)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Limbo-specific concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mean-function">Mean function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#black-lists">Black lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#state-based-optimization">State-based optimization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="framework.html">Using Limbo as an environment for experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="parameters.html">Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>

            

            
            
              
                <a class="caption" href="http://github.com/resibots">github</a>
              
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">limbo</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Limbo</a> &raquo;</li>
    
      <li><a href="index.html">Guides</a> &raquo;</li>
    
    <li>Limbo-specific concepts</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/guides/limbo_concepts.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="limbo-specific-concepts">
<h1>Limbo-specific concepts<a class="headerlink" href="#limbo-specific-concepts" title="Permalink to this headline">¶</a></h1>
<p>Limbo extends the traditionnal Bayesian optimization algorithm with a few ideas developped in our group.</p>
<div class="section" id="mean-function">
<span id="mean-functions"></span><h2>Mean function<a class="headerlink" href="#mean-function" title="Permalink to this headline">¶</a></h2>
<p>In classic Bayesian optimization, the Gaussian process is initialized with a constant mean because it is assumed that all the points of the search space are equally likely to be good. The model is then progressively refined after each observation. This constant mean is is one of the main prior used to build the Gaussian process: setting its value is often critical for the performance of the algorithm (see <a class="reference internal" href="#lizotte2007automatic" id="id1">[3]</a>).</p>
<p>Nevertheless, it can be useful to use more complex priors. This is, for instance, the case when we can use a low-fidelity simulator as a prior for physical experiments with a robot <a class="reference internal" href="#cully-robots-2015" id="id2">[2]</a>. To incorporate this idea into the Bayesian optimization, <em>limbo</em> models the <em>difference</em> between the prediction of the behavior-performance map and the actual performance on the real robot, instead of directly modeling the objective function. This idea is incorporated into the Gaussian process by modifying the update equation for the mean function (<span class="math">\(\mu_t(\mathbf{x})\)</span>):</p>
<div class="math">
\[\mu_{t}(\mathbf{x})= \mathcal{P}(\mathbf{x}) + \mathbf{k}^\intercal\mathbf{K}^{-1}(\mathbf{P}_{1:t}-\mathcal{P}(\mathbf{\chi}_{1:t}))\]</div>
<p>where <span class="math">\(\mathcal{P}(\mathbf{x})\)</span> is the performance of <span class="math">\(\mathbf{x}\)</span> according to the mean function (<em>the prior</em>) and <span class="math">\(\mathcal{P}(\mathbf{\chi}_{1:t})\)</span> is the performance of all the previous observations, also according to the mean function (prior).</p>
<p>Replacing <span class="math">\(\mathbf{P}_{1:t}\)</span> by <span class="math">\(\mathbf{P}_{1:t}-\mathcal{P}(\mathbf{\chi}_{1:t})\)</span> means that the Gaussian process models the difference between the actual performance <span class="math">\(\mathbf{P}_{1:t}\)</span> and the performance from the behavior-performance map <span class="math">\(\mathcal{P}(\mathbf{\chi}_{1:t})\)</span>. The term <span class="math">\(\mathcal{P}(\mathbf{x})\)</span> is the prediction given by the mean function (the behavior-performance map in <a class="reference internal" href="#cully-robots-2015" id="id3">[2]</a>).</p>
<p>See <a class="reference internal" href="general_concepts.html#mean-guide"><span>the Limbo implementation guide</span></a> for the available mean functions.</p>
</div>
<div class="section" id="black-lists">
<h2>Black lists<a class="headerlink" href="#black-lists" title="Permalink to this headline">¶</a></h2>
<p>When performing physical experiments, it is possible that some solutions cannot be properly evaluated. For example, this situation happens often with a physical robot, typically because (1) The robot may be outside the sensor’s range, for example when the robot is not visible from the camera’s point of view, making it impossible to assess its performance and (2) The sensor may return intractable values (infinity, NaN,...).</p>
<p>Different solutions exist to deal with missing data. The simplest way consists in redoing the evaluation. This may work, but only if the problem is not deterministic, otherwise the algorithm will be continuously redoing the same, not working, evaluation. A second solution consists in assigning a very low value to the behavior’s performance, like a punishment. This approach will work with evolutionary algorithms because the corresponding individual will very likely be removed from the population in the next generation. By contrast, this approach will have a dramatic effect on algorithms using models of the reward function, like Bayesian Optimization, as the models will be completely distorted.</p>
<p>These different methods to deal with missing data do not fit well with the Bayesian Optimization framework. Limbo uses a different approach, compatible with Bayesian Optimization, which preserves the model’s stability. The overall idea is to encourage the algorithm to avoid regions around behaviors that could not be evaluated, which may contain other behaviors that are not evaluable too, but without providing any performance value, which is likely to increase the model’s instability.</p>
<p>In order to provide the information that some behaviors have already been tried, we define a blacklist of samples. Each time a behavior cannot be properly evaluated, this behavior is added into the blacklist (and not in the pool of tested behaviors). Because the performance value is not available, only the behavior’s location in the search space is added to the blacklist. In other words, the blacklists are a list of samples with missing performance data.
Thanks to this distinction between valid samples and blacklisted ones, the algorithm can consider only the valid samples when computing the mean of the Gaussian Process and both valid and blacklisted samples when computing the variance. By ignoring blacklisted samples, the mean will remain unchanged and free to move according to future observations  By contrast, the variance will consider both valid and blacklisted samples and will “mark” them as already explored .</p>
</div>
<div class="section" id="state-based-optimization">
<h2>State-based optimization<a class="headerlink" href="#state-based-optimization" title="Permalink to this headline">¶</a></h2>
<p>In many applications, the tasks can be expressed according to the robot’s state. For example, reaching a target with a robotics arm means to place the robot’s end effector at a particular location and walking forward can be expressed as moving the center of mass of the robot. For robotics manipulation, the state of the robot can be extended with the state of the manipulated object. In the same way, all the observations can be expressed as a part of the robot’s state (the observable part).</p>
<p>Instead of modeling the performance function, it is sometimes more effective to use n Gaussian processes to model the state, and then combine these values into a single one for the acquisition function, using an <strong>aggregator</strong>.</p>
<p>Limbo implements this concept.</p>
<p id="bibtex-bibliography-guides/limbo_concepts-0"><table class="docutils citation" frame="void" id="brochu2010tutorial" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>Eric Brochu, Vlad&nbsp;M Cora, and Nando De&nbsp;Freitas. A tutorial on bayesian optimization of expensive cost functions, with application to active user modeling and hierarchical reinforcement learning. <em>arXiv preprint arXiv:1012.2599</em>, 2010.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="cully-robots-2015" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> Antoine Cully, Jeff Clune, Danesh Tarapore, and Jean-Baptiste Mouret. Robots that can adapt like animals. <em>Nature</em>, 521(7553):503–507, May 2015. URL: <a class="reference external" href="http://www.nature.com/doifinder/10.1038/nature14422">http://www.nature.com/doifinder/10.1038/nature14422</a>, <a class="reference external" href="http://dx.doi.org/10.1038/nature14422">doi:10.1038/nature14422</a>.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="lizotte2007automatic" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[3]</a></td><td>Daniel&nbsp;J Lizotte, Tao Wang, Michael&nbsp;H Bowling, and Dale Schuurmans. Automatic gait optimization with gaussian process regression. In <em>Proceedings of the the International Joint Conference on Artificial Intelligence (IJCAI)</em>, volume 7, 944–949. 2007.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="matern1960spatial" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td>Bertil Matérn and others. Spatial variation. stochastic models and their application to some problems in forest surveys and other sampling investigations. <em>Meddelanden fran statens Skogsforskningsinstitut</em>, 1960.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mockus2013" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td>J.&nbsp;Mockus. <em>Bayesian approach to global optimization: theory and applications</em>. Kluwer Academic, 2013.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="rasmussen2006" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td>C.&nbsp;E. Rasmussen and C.&nbsp;K.&nbsp;I. Williams. <em>Gaussian processes for machine learning</em>. MIT Press, 2006. ISBN 0-262-18253-X.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="stein1999interpolation" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[7]</td><td>Michael&nbsp;L Stein. <em>Interpolation of spatial data: some theory for kriging</em>. Springer, 1999.</td></tr>
</tbody>
</table>
</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="framework.html" class="btn btn-neutral float-right" title="Using Limbo as an environment for experiments" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bo.html" class="btn btn-neutral" title="Introduction to Bayesian Optimization (BO)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="wy-footer">
    <div role="contentinfo">
      <p>
          &copy; Copyright 2014-2015, UPMC/Inria.

      
      
        <br/>
        <a href="mailto:jean-baptiste.mouret@inria.fr"> Contact us </a>
      
      </p>
    </div>
    <div class="wy-footer-aside">
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> modified for <a href="http://resibots.eu">Resibots</a>.
    </div>
    <div style="clear: both;"></div>
  </div>
<div class="wy-footer-logo-container">
  <div class="wy-footer-logo"><img src="../_static/logos/logo_eu.png"/></div>
  <div class="wy-footer-logo"><img src="../_static/logos/logo_erc_nonofficial.svg"/></div>
  <div class="wy-footer-logo"><img src="../_static/logos/logo_loria.jpg"/></div>
  <div class="wy-footer-logo"><img src="../_static/logos/logo-inria.svg"/></div>
  <div class="wy-footer-logo"><img src="../_static/logos/logo_cnrs.png"/></div>
  <div class="wy-footer-logo"><img src="../_static/logos/logo_universite_lorraine.jpg"/></div>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxResibotsTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>